{"s": 1, 
 "type": "*", 
 "subs": 
   [{"s": 1, 
     "type": "nest_all_tx", 
     "subs": 
       [{"s": 1, 
         "type": "invalid_line", 
         "e": 37, 
         "data": "Case 1: Nesting, but no interleaving"}], 
     "e": 37, 
     "data": "Case 1: Nesting, but no interleaving"}, 
    {"s": 39, 
     "type": "need_all_tx", 
     "subs": 
       [{"s": 39, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 39, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 57, 
                 "type": "tx_id", 
                 "e": 70, 
                 "data": "7812378112387"}], 
             "e": 70, 
             "data": "BEGIN transaction 7812378112387"}, 
            {"s": 71, 
             "type": "da_line", 
             "subs": 
               [{"s": 71, 
                 "type": "word.any", 
                 "e": 74, 
                 "data": "foo"}, 
                {"s": 75, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 75, 
                     "type": "num.uint", 
                     "e": 76, 
                     "data": "2"}], 
                 "e": 76, 
                 "data": "2"}], 
             "e": 76, 
             "data": "foo 2"}, 
            {"s": 77, 
             "type": "data_line", 
             "subs": 
               [{"s": 77, 
                 "type": "word.any", 
                 "e": 80, 
                 "data": "bar"}, 
                {"s": 81, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 81, 
                     "type": "num.uint", 
                     "e": 83, 
                     "data": "44"}], 
                 "e": 83, 
                 "data": "44"}, 
                {"s": 84, 
                 "type": "word.any", 
                 "e": 85, 
                 "data": "x"}, 
                {"s": 86, 
                 "type": "word.any", 
                 "e": 87, 
                 "data": "y"}], 
             "e": 87, 
             "data": "bar 44 x y"}, 
            {"s": 88, 
             "type": "tx_end_line", 
             "e": 117, 
             "data": "END transaction 7812378112387"}], 
         "e": 117, 
         "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}], 
     "e": 117, 
     "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}, 
    {"s": 118, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 118, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 118, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 136, 
                 "type": "tx_id", 
                 "e": 148, 
                 "data": "111781237811"}], 
             "e": 148, 
             "data": "BEGIN transaction 111781237811"}, 
            {"s": 149, 
             "type": "data_line", 
             "subs": 
               [{"s": 149, 
                 "type": "word.any", 
                 "e": 152, 
                 "data": "foo"}, 
                {"s": 153, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 153, 
                     "type": "num.uint", 
                     "e": 155, 
                     "data": "88"}], 
                 "e": 155, 
                 "data": "88"}], 
             "e": 155, 
             "data": "foo 88"}, 
            {"s": 156, 
             "type": "nested_all_tx.complete_tx", 
             "subs": 
               [{"s": 156, 
                 "type": "tx_begin_line", 
                 "subs": 
                   [{"s": 174, 
                     "type": "tx_id", 
                     "e": 176, 
                     "data": "55"}], 
                 "e": 176, 
                 "data": "BEGIN transaction 55"}, 
                {"s": 177, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 177, 
                     "type": "word.any", 
                     "e": 180, 
                     "data": "bar"}, 
                    {"s": 181, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 181, 
                         "type": "num.uint", 
                         "e": 183, 
                         "data": "33"}], 
                     "e": 183, 
                     "data": "33"}, 
                    {"s": 184, 
                     "type": "word.any", 
                     "e": 185, 
                     "data": "y"}, 
                    {"s": 186, 
                     "type": "word.any", 
                     "e": 187, 
                     "data": "y"}], 
                 "e": 187, 
                 "data": "bar 33 y y"}, 
                {"s": 188, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 188, 
                     "type": "word.any", 
                     "e": 191, 
                     "data": "foo"}, 
                    {"s": 192, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 192, 
                         "type": "num.uint", 
                         "e": 194, 
                         "data": "55"}], 
                     "e": 194, 
                     "data": "55"}], 
                 "e": 194, 
                 "data": "foo 55"}, 
                {"s": 195, 
                 "type": "tx_end_line", 
                 "e": 213, 
                 "data": "END transaction 55"}], 
             "e": 213, 
             "data": "BEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55"}, 
            {"s": 214, 
             "type": "tx_end_line", 
             "e": 242, 
             "data": "END transaction 111781237811"}], 
         "e": 242, 
         "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\nEND transaction 111781237811"}], 
     "e": 242, 
     "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\nEND transaction 111781237811"}, 
    {"s": 244, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 244, 
         "type": "invalid_line", 
         "e": 319, 
         "data": "Case 1a: Deeply nested transactions with no interleaving or invalid entries"}], 
     "e": 319, 
     "data": "Case 1a: Deeply nested transactions with no interleaving or invalid entries"}, 
    {"s": 321, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 321, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 321, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 339, 
                 "type": "tx_id", 
                 "e": 352, 
                 "data": "7812378112387"}], 
             "e": 352, 
             "data": "BEGIN transaction 7812378112387"}, 
            {"s": 353, 
             "type": "data_line", 
             "subs": 
               [{"s": 353, 
                 "type": "word.any", 
                 "e": 356, 
                 "data": "foo"}, 
                {"s": 357, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 357, 
                     "type": "num.uint", 
                     "e": 358, 
                     "data": "2"}], 
                 "e": 358, 
                 "data": "2"}], 
             "e": 358, 
             "data": "foo 2"}, 
            {"s": 359, 
             "type": "data_line", 
             "subs": 
               [{"s": 359, 
                 "type": "word.any", 
                 "e": 362, 
                 "data": "bar"}, 
                {"s": 363, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 363, 
                     "type": "num.uint", 
                     "e": 365, 
                     "data": "44"}], 
                 "e": 365, 
                 "data": "44"}, 
                {"s": 366, 
                 "type": "word.any", 
                 "e": 367, 
                 "data": "x"}, 
                {"s": 368, 
                 "type": "word.any", 
                 "e": 369, 
                 "data": "y"}], 
             "e": 369, 
             "data": "bar 44 x y"}, 
            {"s": 370, 
             "type": "tx_end_line", 
             "e": 399, 
             "data": "END transaction 7812378112387"}], 
         "e": 399, 
         "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}], 
     "e": 399, 
     "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}, 
    {"s": 400, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 400, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 400, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 418, 
                 "type": "tx_id", 
                 "e": 430, 
                 "data": "111781237811"}], 
             "e": 430, 
             "data": "BEGIN transaction 111781237811"}, 
            {"s": 431, 
             "type": "data_line", 
             "subs": 
               [{"s": 431, 
                 "type": "word.any", 
                 "e": 434, 
                 "data": "foo"}, 
                {"s": 435, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 435, 
                     "type": "num.uint", 
                     "e": 437, 
                     "data": "88"}], 
                 "e": 437, 
                 "data": "88"}], 
             "e": 437, 
             "data": "foo 88"}, 
            {"s": 438, 
             "type": "nested_all_tx.complete_tx", 
             "subs": 
               [{"s": 438, 
                 "type": "tx_begin_line", 
                 "subs": 
                   [{"s": 456, 
                     "type": "tx_id", 
                     "e": 458, 
                     "data": "55"}], 
                 "e": 458, 
                 "data": "BEGIN transaction 55"}, 
                {"s": 459, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 459, 
                     "type": "word.any", 
                     "e": 462, 
                     "data": "bar"}, 
                    {"s": 463, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 463, 
                         "type": "num.uint", 
                         "e": 465, 
                         "data": "33"}], 
                     "e": 465, 
                     "data": "33"}, 
                    {"s": 466, 
                     "type": "word.any", 
                     "e": 467, 
                     "data": "y"}, 
                    {"s": 468, 
                     "type": "word.any", 
                     "e": 469, 
                     "data": "y"}], 
                 "e": 469, 
                 "data": "bar 33 y y"}, 
                {"s": 470, 
                 "type": "nested_all_tx.complete_tx", 
                 "subs": 
                   [{"s": 470, 
                     "type": "tx_begin_line", 
                     "subs": 
                       [{"s": 488, 
                         "type": "tx_id", 
                         "e": 492, 
                         "data": "1213"}], 
                     "e": 492, 
                     "data": "BEGIN transaction 1213"}, 
                    {"s": 493, 
                     "type": "data_line", 
                     "subs": 
                       [{"s": 493, 
                         "type": "word.any", 
                         "e": 496, 
                         "data": "foo"}, 
                        {"s": 497, 
                         "type": "num.unsigned_number", 
                         "subs": 
                           [{"s": 497, 
                             "type": "num.uint", 
                             "e": 500, 
                             "data": "392"}], 
                         "e": 500, 
                         "data": "392"}], 
                     "e": 500, 
                     "data": "foo 392"}, 
                    {"s": 501, 
                     "type": "data_line", 
                     "subs": 
                       [{"s": 501, 
                         "type": "word.any", 
                         "e": 504, 
                         "data": "bar"}, 
                        {"s": 505, 
                         "type": "num.unsigned_number", 
                         "subs": 
                           [{"s": 505, 
                             "type": "num.uint", 
                             "e": 507, 
                             "data": "20"}], 
                         "e": 507, 
                         "data": "20"}, 
                        {"s": 508, 
                         "type": "word.any", 
                         "e": 509, 
                         "data": "w"}, 
                        {"s": 510, 
                         "type": "word.any", 
                         "e": 511, 
                         "data": "f"}], 
                     "e": 511, 
                     "data": "bar 20 w f"}, 
                    {"s": 512, 
                     "type": "nested_all_tx.complete_tx", 
                     "subs": 
                       [{"s": 512, 
                         "type": "tx_begin_line", 
                         "subs": 
                           [{"s": 530, 
                             "type": "tx_id", 
                             "e": 535, 
                             "data": "15321"}], 
                         "e": 535, 
                         "data": "BEGIN transaction 15321"}, 
                        {"s": 536, 
                         "type": "data_line", 
                         "subs": 
                           [{"s": 536, 
                             "type": "word.any", 
                             "e": 539, 
                             "data": "foo"}, 
                            {"s": 540, 
                             "type": "num.unsigned_number", 
                             "subs": 
                               [{"s": 540, 
                                 "type": "num.uint", 
                                 "e": 542, 
                                 "data": "54"}], 
                             "e": 542, 
                             "data": "54"}], 
                         "e": 542, 
                         "data": "foo 54"}, 
                        {"s": 543, 
                         "type": "data_line", 
                         "subs": 
                           [{"s": 543, 
                             "type": "word.any", 
                             "e": 546, 
                             "data": "bar"}, 
                            {"s": 547, 
                             "type": "num.unsigned_number", 
                             "subs": 
                               [{"s": 547, 
                                 "type": "num.uint", 
                                 "e": 549, 
                                 "data": "12"}], 
                             "e": 549, 
                             "data": "12"}, 
                            {"s": 550, 
                             "type": "word.any", 
                             "e": 551, 
                             "data": "f"}, 
                            {"s": 552, 
                             "type": "word.any", 
                             "e": 553, 
                             "data": "f"}], 
                         "e": 553, 
                         "data": "bar 12 f f"}, 
                        {"s": 555, 
                         "type": "nested_all_tx.complete_tx", 
                         "subs": 
                           [{"s": 555, 
                             "type": "tx_begin_line", 
                             "subs": 
                               [{"s": 573, 
                                 "type": "tx_id", 
                                 "e": 579, 
                                 "data": "132145"}], 
                             "e": 579, 
                             "data": "BEGIN transaction 132145"}, 
                            {"s": 580, 
                             "type": "data_line", 
                             "subs": 
                               [{"s": 580, 
                                 "type": "word.any", 
                                 "e": 583, 
                                 "data": "foo"}, 
                                {"s": 584, 
                                 "type": "num.unsigned_number", 
                                 "subs": 
                                   [{"s": 584, 
                                     "type": "num.uint", 
                                     "e": 586, 
                                     "data": "95"}], 
                                 "e": 586, 
                                 "data": "95"}], 
                             "e": 586, 
                             "data": "foo 95"}, 
                            {"s": 587, 
                             "type": "nested_all_tx.complete_tx", 
                             "subs": 
                               [{"s": 587, 
                                 "type": "tx_begin_line", 
                                 "subs": 
                                   [{"s": 605, 
                                     "type": "tx_id", 
                                     "e": 609, 
                                     "data": "5531"}], 
                                 "e": 609, 
                                 "data": "BEGIN transaction 5531"}, 
                                {"s": 610, 
                                 "type": "data_line", 
                                 "subs": 
                                   [{"s": 610, 
                                     "type": "word.any", 
                                     "e": 613, 
                                     "data": "bar"}, 
                                    {"s": 614, 
                                     "type": "num.unsigned_number", 
                                     "subs": 
                                       [{"s": 614, 
                                         "type": "num.uint", 
                                         "e": 616, 
                                         "data": "23"}], 
                                     "e": 616, 
                                     "data": "23"}, 
                                    {"s": 617, 
                                     "type": "word.any", 
                                     "e": 618, 
                                     "data": "g"}, 
                                    {"s": 619, 
                                     "type": "word.any", 
                                     "e": 620, 
                                     "data": "s"}], 
                                 "e": 620, 
                                 "data": "bar 23 g s"}, 
                                {"s": 621, 
                                 "type": "tx_end_line", 
                                 "e": 641, 
                                 "data": "END transaction 5531"}], 
                             "e": 641, 
                             "data": "BEGIN transaction 5531\nbar 23 g s\nEND transaction 5531"}, 
                            {"s": 642, 
                             "type": "data_line", 
                             "subs": 
                               [{"s": 642, 
                                 "type": "word.any", 
                                 "e": 645, 
                                 "data": "bar"}, 
                                {"s": 646, 
                                 "type": "num.unsigned_number", 
                                 "subs": 
                                   [{"s": 646, 
                                     "type": "num.uint", 
                                     "e": 648, 
                                     "data": "68"}], 
                                 "e": 648, 
                                 "data": "68"}, 
                                {"s": 649, 
                                 "type": "word.any", 
                                 "e": 650, 
                                 "data": "o"}, 
                                {"s": 651, 
                                 "type": "word.any", 
                                 "e": 652, 
                                 "data": "s"}], 
                             "e": 652, 
                             "data": "bar 68 o s"}, 
                            {"s": 653, 
                             "type": "data_line", 
                             "subs": 
                               [{"s": 653, 
                                 "type": "word.any", 
                                 "e": 656, 
                                 "data": "foo"}, 
                                {"s": 657, 
                                 "type": "num.unsigned_number", 
                                 "subs": 
                                   [{"s": 657, 
                                     "type": "num.uint", 
                                     "e": 659, 
                                     "data": "75"}], 
                                 "e": 659, 
                                 "data": "75"}], 
                             "e": 659, 
                             "data": "foo 75"}, 
                            {"s": 660, 
                             "type": "tx_end_line", 
                             "e": 682, 
                             "data": "END transaction 132145"}], 
                         "e": 682, 
                         "data": "BEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nEND transaction 132145"}, 
                        {"s": 683, 
                         "type": "tx_end_line", 
                         "e": 704, 
                         "data": "END transaction 15321"}], 
                     "e": 704, 
                     "data": "BEGIN transaction 15321\nfoo 54\nbar 12 f f \nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nEND transaction 132145\nEND transaction 15321"}, 
                    {"s": 705, 
                     "type": "data_line", 
                     "subs": 
                       [{"s": 705, 
                         "type": "word.any", 
                         "e": 708, 
                         "data": "bar"}, 
                        {"s": 709, 
                         "type": "num.unsigned_number", 
                         "subs": 
                           [{"s": 709, 
                             "type": "num.uint", 
                             "e": 711, 
                             "data": "90"}], 
                         "e": 711, 
                         "data": "90"}, 
                        {"s": 712, 
                         "type": "word.any", 
                         "e": 713, 
                         "data": "p"}, 
                        {"s": 714, 
                         "type": "word.any", 
                         "e": 715, 
                         "data": "a"}], 
                     "e": 715, 
                     "data": "bar 90 p a"}, 
                    {"s": 716, 
                     "type": "nested_all_tx.complete_tx", 
                     "subs": 
                       [{"s": 716, 
                         "type": "tx_begin_line", 
                         "subs": 
                           [{"s": 734, 
                             "type": "tx_id", 
                             "e": 739, 
                             "data": "12521"}], 
                         "e": 739, 
                         "data": "BEGIN transaction 12521"}, 
                        {"s": 740, 
                         "type": "data_line", 
                         "subs": 
                           [{"s": 740, 
                             "type": "word.any", 
                             "e": 743, 
                             "data": "bar"}, 
                            {"s": 744, 
                             "type": "num.unsigned_number", 
                             "subs": 
                               [{"s": 744, 
                                 "type": "num.uint", 
                                 "e": 746, 
                                 "data": "23"}], 
                             "e": 746, 
                             "data": "23"}, 
                            {"s": 747, 
                             "type": "word.any", 
                             "e": 748, 
                             "data": "g"}, 
                            {"s": 749, 
                             "type": "word.any", 
                             "e": 750, 
                             "data": "s"}], 
                         "e": 750, 
                         "data": "bar 23 g s"}, 
                        {"s": 751, 
                         "type": "tx_end_line", 
                         "e": 772, 
                         "data": "END transaction 12521"}], 
                     "e": 772, 
                     "data": "BEGIN transaction 12521\nbar 23 g s\nEND transaction 12521"}, 
                    {"s": 773, 
                     "type": "tx_end_line", 
                     "e": 793, 
                     "data": "END transaction 1213"}], 
                 "e": 793, 
                 "data": "BEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f \nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nEND transaction 132145\nEND transaction 15321\nbar 90 p a\nBEGIN transaction 12521\nbar 23 g s\nEND transaction 12521\nEND transaction 1213"}, 
                {"s": 794, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 794, 
                     "type": "word.any", 
                     "e": 797, 
                     "data": "foo"}, 
                    {"s": 798, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 798, 
                         "type": "num.uint", 
                         "e": 800, 
                         "data": "55"}], 
                     "e": 800, 
                     "data": "55"}], 
                 "e": 800, 
                 "data": "foo 55"}, 
                {"s": 801, 
                 "type": "tx_end_line", 
                 "e": 819, 
                 "data": "END transaction 55"}], 
             "e": 819, 
             "data": "BEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f \nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nEND transaction 132145\nEND transaction 15321\nbar 90 p a\nBEGIN transaction 12521\nbar 23 g s\nEND transaction 12521\nEND transaction 1213\nfoo 55\nEND transaction 55"}, 
            {"s": 820, 
             "type": "tx_end_line", 
             "e": 848, 
             "data": "END transaction 111781237811"}], 
         "e": 848, 
         "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f \nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nEND transaction 132145\nEND transaction 15321\nbar 90 p a\nBEGIN transaction 12521\nbar 23 g s\nEND transaction 12521\nEND transaction 1213\nfoo 55\nEND transaction 55\nEND transaction 111781237811"}], 
     "e": 848, 
     "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f \nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nEND transaction 132145\nEND transaction 15321\nbar 90 p a\nBEGIN transaction 12521\nbar 23 g s\nEND transaction 12521\nEND transaction 1213\nfoo 55\nEND transaction 55\nEND transaction 111781237811"}, 
    {"s": 850, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 850, 
         "type": "invalid_line", 
         "e": 912, 
         "data": "Case 2: Transactions can also be interleaved with one another."}], 
     "e": 912, 
     "data": "Case 2: Transactions can also be interleaved with one another."}, 
    {"s": 914, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 914, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 914, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 932, 
                 "type": "tx_id", 
                 "e": 945, 
                 "data": "7812378112387"}], 
             "e": 945, 
             "data": "BEGIN transaction 7812378112387"}, 
            {"s": 946, 
             "type": "data_line", 
             "subs": 
               [{"s": 946, 
                 "type": "word.any", 
                 "e": 949, 
                 "data": "foo"}, 
                {"s": 950, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 950, 
                     "type": "num.uint", 
                     "e": 951, 
                     "data": "2"}], 
                 "e": 951, 
                 "data": "2"}], 
             "e": 951, 
             "data": "foo 2"}, 
            {"s": 952, 
             "type": "data_line", 
             "subs": 
               [{"s": 952, 
                 "type": "word.any", 
                 "e": 955, 
                 "data": "bar"}, 
                {"s": 956, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 956, 
                     "type": "num.uint", 
                     "e": 958, 
                     "data": "44"}], 
                 "e": 958, 
                 "data": "44"}, 
                {"s": 959, 
                 "type": "word.any", 
                 "e": 960, 
                 "data": "x"}, 
                {"s": 961, 
                 "type": "word.any", 
                 "e": 962, 
                 "data": "y"}], 
             "e": 962, 
             "data": "bar 44 x y"}, 
            {"s": 963, 
             "type": "tx_end_line", 
             "e": 992, 
             "data": "END transaction 7812378112387"}], 
         "e": 992, 
         "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}], 
     "e": 992, 
     "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}, 
    {"s": 993, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 993, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 993, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 1011, 
                 "type": "tx_id", 
                 "e": 1023, 
                 "data": "111781237811"}], 
             "e": 1023, 
             "data": "BEGIN transaction 111781237811"}, 
            {"s": 1024, 
             "type": "data_line", 
             "subs": 
               [{"s": 1024, 
                 "type": "word.any", 
                 "e": 1027, 
                 "data": "foo"}, 
                {"s": 1028, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1028, 
                     "type": "num.uint", 
                     "e": 1030, 
                     "data": "88"}], 
                 "e": 1030, 
                 "data": "88"}], 
             "e": 1030, 
             "data": "foo 88"}, 
            {"s": 1031, 
             "type": "nested_all_tx.incomplete_tx", 
             "subs": 
               [{"s": 1031, 
                 "type": "incomplete_tx_begin_line", 
                 "subs": 
                   [{"s": 1049, 
                     "type": "num.uint", 
                     "e": 1051, 
                     "data": "55"}], 
                 "e": 1051, 
                 "data": "BEGIN transaction 55"}, 
                {"s": 1052, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1052, 
                     "type": "word.any", 
                     "e": 1055, 
                     "data": "bar"}, 
                    {"s": 1056, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1056, 
                         "type": "num.uint", 
                         "e": 1058, 
                         "data": "33"}], 
                     "e": 1058, 
                     "data": "33"}, 
                    {"s": 1059, 
                     "type": "word.any", 
                     "e": 1060, 
                     "data": "y"}, 
                    {"s": 1061, 
                     "type": "word.any", 
                     "e": 1062, 
                     "data": "y"}], 
                 "e": 1062, 
                 "data": "bar 33 y y"}, 
                {"s": 1063, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1063, 
                     "type": "word.any", 
                     "e": 1066, 
                     "data": "foo"}, 
                    {"s": 1067, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1067, 
                         "type": "num.uint", 
                         "e": 1069, 
                         "data": "55"}], 
                     "e": 1069, 
                     "data": "55"}], 
                 "e": 1069, 
                 "data": "foo 55"}], 
             "e": 1070, 
             "data": "BEGIN transaction 55\nbar 33 y y\nfoo 55\n"}, 
            {"s": 1070, 
             "type": "tx_end_line", 
             "e": 1098, 
             "data": "END transaction 111781237811"}], 
         "e": 1098, 
         "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 111781237811"}], 
     "e": 1098, 
     "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 111781237811"}, 
    {"s": 1099, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1099, 
         "type": "invalid_line", 
         "e": 1117, 
         "data": "END transaction 55"}], 
     "e": 1117, 
     "data": "END transaction 55"}, 
    {"s": 1120, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1120, 
         "type": "invalid_line", 
         "e": 1200, 
         "data": "Case 3: It's also possible that a server crashes before finishing a transaction."}], 
     "e": 1200, 
     "data": "Case 3: It's also possible that a server crashes before finishing a transaction."}, 
    {"s": 1202, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1202, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 1202, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 1220, 
                 "type": "tx_id", 
                 "e": 1233, 
                 "data": "7812378112387"}], 
             "e": 1233, 
             "data": "BEGIN transaction 7812378112387"}, 
            {"s": 1234, 
             "type": "data_line", 
             "subs": 
               [{"s": 1234, 
                 "type": "word.any", 
                 "e": 1237, 
                 "data": "foo"}, 
                {"s": 1238, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1238, 
                     "type": "num.uint", 
                     "e": 1239, 
                     "data": "2"}], 
                 "e": 1239, 
                 "data": "2"}], 
             "e": 1239, 
             "data": "foo 2"}, 
            {"s": 1240, 
             "type": "data_line", 
             "subs": 
               [{"s": 1240, 
                 "type": "word.any", 
                 "e": 1243, 
                 "data": "bar"}, 
                {"s": 1244, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1244, 
                     "type": "num.uint", 
                     "e": 1246, 
                     "data": "44"}], 
                 "e": 1246, 
                 "data": "44"}, 
                {"s": 1247, 
                 "type": "word.any", 
                 "e": 1248, 
                 "data": "x"}, 
                {"s": 1249, 
                 "type": "word.any", 
                 "e": 1250, 
                 "data": "y"}], 
             "e": 1250, 
             "data": "bar 44 x y"}, 
            {"s": 1251, 
             "type": "tx_end_line", 
             "e": 1280, 
             "data": "END transaction 7812378112387"}], 
         "e": 1280, 
         "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}], 
     "e": 1280, 
     "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}, 
    {"s": 1281, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1281, 
         "type": "nested_all_tx.incomplete_tx", 
         "subs": 
           [{"s": 1281, 
             "type": "incomplete_tx_begin_line", 
             "subs": 
               [{"s": 1299, 
                 "type": "num.uint", 
                 "e": 1311, 
                 "data": "111781237811"}], 
             "e": 1311, 
             "data": "BEGIN transaction 111781237811"}, 
            {"s": 1312, 
             "type": "data_line", 
             "subs": 
               [{"s": 1312, 
                 "type": "word.any", 
                 "e": 1315, 
                 "data": "foo"}, 
                {"s": 1316, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1316, 
                     "type": "num.uint", 
                     "e": 1318, 
                     "data": "88"}], 
                 "e": 1318, 
                 "data": "88"}], 
             "e": 1318, 
             "data": "foo 88"}, 
            {"s": 1319, 
             "type": "nested_all_tx.complete_tx", 
             "subs": 
               [{"s": 1319, 
                 "type": "tx_begin_line", 
                 "subs": 
                   [{"s": 1337, 
                     "type": "tx_id", 
                     "e": 1339, 
                     "data": "55"}], 
                 "e": 1339, 
                 "data": "BEGIN transaction 55"}, 
                {"s": 1340, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1340, 
                     "type": "word.any", 
                     "e": 1343, 
                     "data": "bar"}, 
                    {"s": 1344, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1344, 
                         "type": "num.uint", 
                         "e": 1346, 
                         "data": "33"}], 
                     "e": 1346, 
                     "data": "33"}, 
                    {"s": 1347, 
                     "type": "word.any", 
                     "e": 1348, 
                     "data": "y"}, 
                    {"s": 1349, 
                     "type": "word.any", 
                     "e": 1350, 
                     "data": "y"}], 
                 "e": 1350, 
                 "data": "bar 33 y y"}, 
                {"s": 1351, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1351, 
                     "type": "word.any", 
                     "e": 1354, 
                     "data": "foo"}, 
                    {"s": 1355, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1355, 
                         "type": "num.uint", 
                         "e": 1357, 
                         "data": "55"}], 
                     "e": 1357, 
                     "data": "55"}], 
                 "e": 1357, 
                 "data": "foo 55"}, 
                {"s": 1358, 
                 "type": "tx_end_line", 
                 "e": 1376, 
                 "data": "END transaction 55"}], 
             "e": 1376, 
             "data": "BEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55"}, 
            {"s": 1378, 
             "type": "nested_all_tx.complete_tx", 
             "subs": 
               [{"s": 1378, 
                 "type": "tx_begin_line", 
                 "subs": 
                   [{"s": 1396, 
                     "type": "tx_id", 
                     "e": 1409, 
                     "data": "7812378112387"}], 
                 "e": 1409, 
                 "data": "BEGIN transaction 7812378112387"}, 
                {"s": 1410, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1410, 
                     "type": "word.any", 
                     "e": 1413, 
                     "data": "foo"}, 
                    {"s": 1414, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1414, 
                         "type": "num.uint", 
                         "e": 1415, 
                         "data": "2"}], 
                     "e": 1415, 
                     "data": "2"}], 
                 "e": 1415, 
                 "data": "foo 2"}, 
                {"s": 1416, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1416, 
                     "type": "word.any", 
                     "e": 1419, 
                     "data": "bar"}, 
                    {"s": 1420, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1420, 
                         "type": "num.uint", 
                         "e": 1422, 
                         "data": "44"}], 
                     "e": 1422, 
                     "data": "44"}, 
                    {"s": 1423, 
                     "type": "word.any", 
                     "e": 1424, 
                     "data": "x"}, 
                    {"s": 1425, 
                     "type": "word.any", 
                     "e": 1426, 
                     "data": "y"}], 
                 "e": 1426, 
                 "data": "bar 44 x y"}, 
                {"s": 1427, 
                 "type": "tx_end_line", 
                 "e": 1456, 
                 "data": "END transaction 7812378112387"}], 
             "e": 1456, 
             "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387"}, 
            {"s": 1457, 
             "type": "nested_all_tx.complete_tx", 
             "subs": 
               [{"s": 1457, 
                 "type": "tx_begin_line", 
                 "subs": 
                   [{"s": 1475, 
                     "type": "tx_id", 
                     "e": 1477, 
                     "data": "55"}], 
                 "e": 1477, 
                 "data": "BEGIN transaction 55"}, 
                {"s": 1478, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1478, 
                     "type": "word.any", 
                     "e": 1481, 
                     "data": "foo"}, 
                    {"s": 1482, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1482, 
                         "type": "num.uint", 
                         "e": 1484, 
                         "data": "88"}], 
                     "e": 1484, 
                     "data": "88"}], 
                 "e": 1484, 
                 "data": "foo 88"}, 
                {"s": 1485, 
                 "type": "nested_all_tx.incomplete_tx", 
                 "subs": 
                   [{"s": 1485, 
                     "type": "incomplete_tx_begin_line", 
                     "subs": 
                       [{"s": 1503, 
                         "type": "num.uint", 
                         "e": 1515, 
                         "data": "111781237811"}], 
                     "e": 1515, 
                     "data": "BEGIN transaction 111781237811"}, 
                    {"s": 1516, 
                     "type": "data_line", 
                     "subs": 
                       [{"s": 1516, 
                         "type": "word.any", 
                         "e": 1519, 
                         "data": "bar"}, 
                        {"s": 1520, 
                         "type": "num.unsigned_number", 
                         "subs": 
                           [{"s": 1520, 
                             "type": "num.uint", 
                             "e": 1522, 
                             "data": "33"}], 
                         "e": 1522, 
                         "data": "33"}, 
                        {"s": 1523, 
                         "type": "word.any", 
                         "e": 1524, 
                         "data": "y"}, 
                        {"s": 1525, 
                         "type": "word.any", 
                         "e": 1526, 
                         "data": "y"}], 
                     "e": 1526, 
                     "data": "bar 33 y y"}, 
                    {"s": 1527, 
                     "type": "data_line", 
                     "subs": 
                       [{"s": 1527, 
                         "type": "word.any", 
                         "e": 1530, 
                         "data": "foo"}, 
                        {"s": 1531, 
                         "type": "num.unsigned_number", 
                         "subs": 
                           [{"s": 1531, 
                             "type": "num.uint", 
                             "e": 1533, 
                             "data": "55"}], 
                         "e": 1533, 
                         "data": "55"}], 
                     "e": 1533, 
                     "data": "foo 55"}], 
                 "e": 1534, 
                 "data": "BEGIN transaction 111781237811\nbar 33 y y\nfoo 55\n"}, 
                {"s": 1534, 
                 "type": "tx_end_line", 
                 "e": 1552, 
                 "data": "END transaction 55"}], 
             "e": 1552, 
             "data": "BEGIN transaction 55\nfoo 88\nBEGIN transaction 111781237811\nbar 33 y y\nfoo 55\nEND transaction 55"}, 
            {"s": 1554, 
             "type": "data_line", 
             "subs": 
               [{"s": 1554, 
                 "type": "word.any", 
                 "e": 1558, 
                 "data": "Case"}, 
                {"s": 1559, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1559, 
                     "type": "num.uint", 
                     "e": 1560, 
                     "data": "4"}], 
                 "e": 1560, 
                 "data": "4"}], 
             "e": 1560, 
             "data": "Case 4"}], 
         "e": 1560, 
         "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 55\nfoo 88\nBEGIN transaction 111781237811\nbar 33 y y\nfoo 55\nEND transaction 55\n\nCase 4"}], 
     "e": 1560, 
     "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 55\nfoo 88\nBEGIN transaction 111781237811\nbar 33 y y\nfoo 55\nEND transaction 55\n\nCase 4"}, 
    {"s": 1560, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1560, 
         "type": "invalid_line", 
         "e": 1587, 
         "data": ": Missing \"BEGIN\" (invalid)"}], 
     "e": 1587, 
     "data": ": Missing \"BEGIN\" (invalid)"}, 
    {"s": 1589, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1589, 
         "type": "invalid_line", 
         "e": 1594, 
         "data": "foo 2"}], 
     "e": 1594, 
     "data": "foo 2"}, 
    {"s": 1595, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1595, 
         "type": "invalid_line", 
         "e": 1605, 
         "data": "bar 44 x y"}], 
     "e": 1605, 
     "data": "bar 44 x y"}, 
    {"s": 1606, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1606, 
         "type": "invalid_line", 
         "e": 1635, 
         "data": "END transaction 7812378112387"}], 
     "e": 1635, 
     "data": "END transaction 7812378112387"}, 
    {"s": 1636, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1636, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 1636, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 1654, 
                 "type": "tx_id", 
                 "e": 1666, 
                 "data": "111781237811"}], 
             "e": 1666, 
             "data": "BEGIN transaction 111781237811"}, 
            {"s": 1667, 
             "type": "data_line", 
             "subs": 
               [{"s": 1667, 
                 "type": "word.any", 
                 "e": 1670, 
                 "data": "foo"}, 
                {"s": 1671, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1671, 
                     "type": "num.uint", 
                     "e": 1673, 
                     "data": "88"}], 
                 "e": 1673, 
                 "data": "88"}], 
             "e": 1673, 
             "data": "foo 88"}, 
            {"s": 1674, 
             "type": "nested_all_tx.complete_tx", 
             "subs": 
               [{"s": 1674, 
                 "type": "tx_begin_line", 
                 "subs": 
                   [{"s": 1692, 
                     "type": "tx_id", 
                     "e": 1694, 
                     "data": "55"}], 
                 "e": 1694, 
                 "data": "BEGIN transaction 55"}, 
                {"s": 1695, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1695, 
                     "type": "word.any", 
                     "e": 1698, 
                     "data": "bar"}, 
                    {"s": 1699, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1699, 
                         "type": "num.uint", 
                         "e": 1701, 
                         "data": "33"}], 
                     "e": 1701, 
                     "data": "33"}, 
                    {"s": 1702, 
                     "type": "word.any", 
                     "e": 1703, 
                     "data": "y"}, 
                    {"s": 1704, 
                     "type": "word.any", 
                     "e": 1705, 
                     "data": "y"}], 
                 "e": 1705, 
                 "data": "bar 33 y y"}, 
                {"s": 1706, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1706, 
                     "type": "word.any", 
                     "e": 1709, 
                     "data": "foo"}, 
                    {"s": 1710, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1710, 
                         "type": "num.uint", 
                         "e": 1712, 
                         "data": "55"}], 
                     "e": 1712, 
                     "data": "55"}], 
                 "e": 1712, 
                 "data": "foo 55"}, 
                {"s": 1713, 
                 "type": "tx_end_line", 
                 "e": 1731, 
                 "data": "END transaction 55"}], 
             "e": 1731, 
             "data": "BEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55"}, 
            {"s": 1732, 
             "type": "tx_end_line", 
             "e": 1760, 
             "data": "END transaction 111781237811"}], 
         "e": 1760, 
         "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\nEND transaction 111781237811"}], 
     "e": 1760, 
     "data": "BEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\nEND transaction 111781237811"}, 
    {"s": 1762, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1762, 
         "type": "invalid_line", 
         "e": 1832, 
         "data": "Case 5: Deeply nested with invalid, valid, and incomplete transactions"}], 
     "e": 1832, 
     "data": "Case 5: Deeply nested with invalid, valid, and incomplete transactions"}, 
    {"s": 1834, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 1834, 
         "type": "nested_all_tx.complete_tx", 
         "subs": 
           [{"s": 1834, 
             "type": "tx_begin_line", 
             "subs": 
               [{"s": 1852, 
                 "type": "tx_id", 
                 "e": 1865, 
                 "data": "7812378112387"}], 
             "e": 1865, 
             "data": "BEGIN transaction 7812378112387"}, 
            {"s": 1866, 
             "type": "data_line", 
             "subs": 
               [{"s": 1866, 
                 "type": "word.any", 
                 "e": 1869, 
                 "data": "foo"}, 
                {"s": 1870, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1870, 
                     "type": "num.uint", 
                     "e": 1871, 
                     "data": "2"}], 
                 "e": 1871, 
                 "data": "2"}], 
             "e": 1871, 
             "data": "foo 2"}, 
            {"s": 1872, 
             "type": "data_line", 
             "subs": 
               [{"s": 1872, 
                 "type": "word.any", 
                 "e": 1875, 
                 "data": "bar"}, 
                {"s": 1876, 
                 "type": "num.unsigned_number", 
                 "subs": 
                   [{"s": 1876, 
                     "type": "num.uint", 
                     "e": 1878, 
                     "data": "44"}], 
                 "e": 1878, 
                 "data": "44"}, 
                {"s": 1879, 
                 "type": "word.any", 
                 "e": 1880, 
                 "data": "x"}, 
                {"s": 1881, 
                 "type": "word.any", 
                 "e": 1882, 
                 "data": "y"}], 
             "e": 1882, 
             "data": "bar 44 x y"}, 
            {"s": 1883, 
             "type": "nested_all_tx.incomplete_tx", 
             "subs": 
               [{"s": 1883, 
                 "type": "incomplete_tx_begin_line", 
                 "subs": 
                   [{"s": 1901, 
                     "type": "num.uint", 
                     "e": 1903, 
                     "data": "55"}], 
                 "e": 1903, 
                 "data": "BEGIN transaction 55"}, 
                {"s": 1904, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 1904, 
                     "type": "word.any", 
                     "e": 1907, 
                     "data": "bar"}, 
                    {"s": 1908, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 1908, 
                         "type": "num.uint", 
                         "e": 1910, 
                         "data": "33"}], 
                     "e": 1910, 
                     "data": "33"}, 
                    {"s": 1911, 
                     "type": "word.any", 
                     "e": 1912, 
                     "data": "y"}, 
                    {"s": 1913, 
                     "type": "word.any", 
                     "e": 1914, 
                     "data": "y"}], 
                 "e": 1914, 
                 "data": "bar 33 y y"}, 
                {"s": 1915, 
                 "type": "nested_all_tx.complete_tx", 
                 "subs": 
                   [{"s": 1915, 
                     "type": "tx_begin_line", 
                     "subs": 
                       [{"s": 1933, 
                         "type": "tx_id", 
                         "e": 1937, 
                         "data": "1213"}], 
                     "e": 1937, 
                     "data": "BEGIN transaction 1213"}, 
                    {"s": 1938, 
                     "type": "data_line", 
                     "subs": 
                       [{"s": 1938, 
                         "type": "word.any", 
                         "e": 1941, 
                         "data": "foo"}, 
                        {"s": 1942, 
                         "type": "num.unsigned_number", 
                         "subs": 
                           [{"s": 1942, 
                             "type": "num.uint", 
                             "e": 1945, 
                             "data": "392"}], 
                         "e": 1945, 
                         "data": "392"}], 
                     "e": 1945, 
                     "data": "foo 392"}, 
                    {"s": 1946, 
                     "type": "data_line", 
                     "subs": 
                       [{"s": 1946, 
                         "type": "word.any", 
                         "e": 1949, 
                         "data": "bar"}, 
                        {"s": 1950, 
                         "type": "num.unsigned_number", 
                         "subs": 
                           [{"s": 1950, 
                             "type": "num.uint", 
                             "e": 1952, 
                             "data": "20"}], 
                         "e": 1952, 
                         "data": "20"}, 
                        {"s": 1953, 
                         "type": "word.any", 
                         "e": 1954, 
                         "data": "w"}, 
                        {"s": 1955, 
                         "type": "word.any", 
                         "e": 1956, 
                         "data": "f"}], 
                     "e": 1956, 
                     "data": "bar 20 w f"}, 
                    {"s": 1957, 
                     "type": "nested_all_tx.incomplete_tx", 
                     "subs": 
                       [{"s": 1957, 
                         "type": "incomplete_tx_begin_line", 
                         "subs": 
                           [{"s": 1975, 
                             "type": "num.uint", 
                             "e": 1980, 
                             "data": "15321"}], 
                         "e": 1980, 
                         "data": "BEGIN transaction 15321"}, 
                        {"s": 1981, 
                         "type": "data_line", 
                         "subs": 
                           [{"s": 1981, 
                             "type": "word.any", 
                             "e": 1984, 
                             "data": "foo"}, 
                            {"s": 1985, 
                             "type": "num.unsigned_number", 
                             "subs": 
                               [{"s": 1985, 
                                 "type": "num.uint", 
                                 "e": 1987, 
                                 "data": "54"}], 
                             "e": 1987, 
                             "data": "54"}], 
                         "e": 1987, 
                         "data": "foo 54"}, 
                        {"s": 1988, 
                         "type": "data_line", 
                         "subs": 
                           [{"s": 1988, 
                             "type": "word.any", 
                             "e": 1991, 
                             "data": "bar"}, 
                            {"s": 1992, 
                             "type": "num.unsigned_number", 
                             "subs": 
                               [{"s": 1992, 
                                 "type": "num.uint", 
                                 "e": 1994, 
                                 "data": "12"}], 
                             "e": 1994, 
                             "data": "12"}, 
                            {"s": 1995, 
                             "type": "word.any", 
                             "e": 1996, 
                             "data": "f"}, 
                            {"s": 1997, 
                             "type": "word.any", 
                             "e": 1998, 
                             "data": "f"}], 
                         "e": 1998, 
                         "data": "bar 12 f f"}, 
                        {"s": 1999, 
                         "type": "nested_all_tx.incomplete_tx", 
                         "subs": 
                           [{"s": 1999, 
                             "type": "incomplete_tx_begin_line", 
                             "subs": 
                               [{"s": 2017, 
                                 "type": "num.uint", 
                                 "e": 2023, 
                                 "data": "132145"}], 
                             "e": 2023, 
                             "data": "BEGIN transaction 132145"}, 
                            {"s": 2024, 
                             "type": "data_line", 
                             "subs": 
                               [{"s": 2024, 
                                 "type": "word.any", 
                                 "e": 2027, 
                                 "data": "foo"}, 
                                {"s": 2028, 
                                 "type": "num.unsigned_number", 
                                 "subs": 
                                   [{"s": 2028, 
                                     "type": "num.uint", 
                                     "e": 2030, 
                                     "data": "95"}], 
                                 "e": 2030, 
                                 "data": "95"}], 
                             "e": 2030, 
                             "data": "foo 95"}, 
                            {"s": 2031, 
                             "type": "nested_all_tx.complete_tx", 
                             "subs": 
                               [{"s": 2031, 
                                 "type": "tx_begin_line", 
                                 "subs": 
                                   [{"s": 2049, 
                                     "type": "tx_id", 
                                     "e": 2053, 
                                     "data": "5531"}], 
                                 "e": 2053, 
                                 "data": "BEGIN transaction 5531"}, 
                                {"s": 2054, 
                                 "type": "data_line", 
                                 "subs": 
                                   [{"s": 2054, 
                                     "type": "word.any", 
                                     "e": 2057, 
                                     "data": "bar"}, 
                                    {"s": 2058, 
                                     "type": "num.unsigned_number", 
                                     "subs": 
                                       [{"s": 2058, 
                                         "type": "num.uint", 
                                         "e": 2060, 
                                         "data": "23"}], 
                                     "e": 2060, 
                                     "data": "23"}, 
                                    {"s": 2061, 
                                     "type": "word.any", 
                                     "e": 2062, 
                                     "data": "g"}, 
                                    {"s": 2063, 
                                     "type": "word.any", 
                                     "e": 2064, 
                                     "data": "s"}], 
                                 "e": 2064, 
                                 "data": "bar 23 g s"}, 
                                {"s": 2065, 
                                 "type": "tx_end_line", 
                                 "e": 2085, 
                                 "data": "END transaction 5531"}], 
                             "e": 2085, 
                             "data": "BEGIN transaction 5531\nbar 23 g s\nEND transaction 5531"}, 
                            {"s": 2086, 
                             "type": "data_line", 
                             "subs": 
                               [{"s": 2086, 
                                 "type": "word.any", 
                                 "e": 2089, 
                                 "data": "bar"}, 
                                {"s": 2090, 
                                 "type": "num.unsigned_number", 
                                 "subs": 
                                   [{"s": 2090, 
                                     "type": "num.uint", 
                                     "e": 2092, 
                                     "data": "68"}], 
                                 "e": 2092, 
                                 "data": "68"}, 
                                {"s": 2093, 
                                 "type": "word.any", 
                                 "e": 2094, 
                                 "data": "o"}, 
                                {"s": 2095, 
                                 "type": "word.any", 
                                 "e": 2096, 
                                 "data": "s"}], 
                             "e": 2096, 
                             "data": "bar 68 o s"}, 
                            {"s": 2097, 
                             "type": "data_line", 
                             "subs": 
                               [{"s": 2097, 
                                 "type": "word.any", 
                                 "e": 2100, 
                                 "data": "foo"}, 
                                {"s": 2101, 
                                 "type": "num.unsigned_number", 
                                 "subs": 
                                   [{"s": 2101, 
                                     "type": "num.uint", 
                                     "e": 2103, 
                                     "data": "75"}], 
                                 "e": 2103, 
                                 "data": "75"}], 
                             "e": 2103, 
                             "data": "foo 75"}, 
                            {"s": 2104, 
                             "type": "nested_all_tx.complete_tx", 
                             "subs": 
                               [{"s": 2104, 
                                 "type": "tx_begin_line", 
                                 "subs": 
                                   [{"s": 2122, 
                                     "type": "tx_id", 
                                     "e": 2126, 
                                     "data": "8141"}], 
                                 "e": 2126, 
                                 "data": "BEGIN transaction 8141"}, 
                                {"s": 2127, 
                                 "type": "data_line", 
                                 "subs": 
                                   [{"s": 2127, 
                                     "type": "word.any", 
                                     "e": 2130, 
                                     "data": "foo"}, 
                                    {"s": 2131, 
                                     "type": "num.unsigned_number", 
                                     "subs": 
                                       [{"s": 2131, 
                                         "type": "num.uint", 
                                         "e": 2133, 
                                         "data": "39"}], 
                                     "e": 2133, 
                                     "data": "39"}], 
                                 "e": 2133, 
                                 "data": "foo 39"}, 
                                {"s": 2134, 
                                 "type": "nested_all_tx.incomplete_tx", 
                                 "subs": 
                                   [{"s": 2134, 
                                     "type": "incomplete_tx_begin_line", 
                                     "subs": 
                                       [{"s": 2152, 
                                         "type": "num.uint", 
                                         "e": 2156, 
                                         "data": "5190"}], 
                                     "e": 2156, 
                                     "data": "BEGIN transaction 5190"}, 
                                    {"s": 2157, 
                                     "type": "data_line", 
                                     "subs": 
                                       [{"s": 2157, 
                                         "type": "word.any", 
                                         "e": 2160, 
                                         "data": "bar"}, 
                                        {"s": 2161, 
                                         "type": "num.unsigned_number", 
                                         "subs": 
                                           [{"s": 2161, 
                                             "type": "num.uint", 
                                             "e": 2163, 
                                             "data": "90"}], 
                                         "e": 2163, 
                                         "data": "90"}, 
                                        {"s": 2164, 
                                         "type": "word.any", 
                                         "e": 2165, 
                                         "data": "p"}, 
                                        {"s": 2166, 
                                         "type": "word.any", 
                                         "e": 2167, 
                                         "data": "a"}], 
                                     "e": 2167, 
                                     "data": "bar 90 p a"}], 
                                 "e": 2168, 
                                 "data": "BEGIN transaction 5190\nbar 90 p a\n"}, 
                                {"s": 2168, 
                                 "type": "tx_end_line", 
                                 "e": 2188, 
                                 "data": "END transaction 8141"}], 
                             "e": 2188, 
                             "data": "BEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141"}], 
                         "e": 2189, 
                         "data": "BEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nBEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141\n"}], 
                     "e": 2189, 
                     "data": "BEGIN transaction 15321\nfoo 54\nbar 12 f f\nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nBEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141\n"}, 
                    {"s": 2189, 
                     "type": "tx_end_line", 
                     "e": 2209, 
                     "data": "END transaction 1213"}], 
                 "e": 2209, 
                 "data": "BEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f\nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nBEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141\nEND transaction 1213"}, 
                {"s": 2210, 
                 "type": "data_line", 
                 "subs": 
                   [{"s": 2210, 
                     "type": "word.any", 
                     "e": 2213, 
                     "data": "foo"}, 
                    {"s": 2214, 
                     "type": "num.unsigned_number", 
                     "subs": 
                       [{"s": 2214, 
                         "type": "num.uint", 
                         "e": 2216, 
                         "data": "55"}], 
                     "e": 2216, 
                     "data": "55"}], 
                 "e": 2216, 
                 "data": "foo 55"}, 
                {"s": 2217, 
                 "type": "nested_all_tx.incomplete_tx", 
                 "subs": 
                   [{"s": 2217, 
                     "type": "incomplete_tx_begin_line", 
                     "subs": 
                       [{"s": 2235, 
                         "type": "num.uint", 
                         "e": 2239, 
                         "data": "4151"}], 
                     "e": 2239, 
                     "data": "BEGIN transaction 4151"}], 
                 "e": 2240, 
                 "data": "BEGIN transaction 4151\n"}], 
             "e": 2240, 
             "data": "BEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f\nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nBEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141\nEND transaction 1213\nfoo 55\nBEGIN transaction 4151\n"}, 
            {"s": 2240, 
             "type": "tx_end_line", 
             "e": 2269, 
             "data": "END transaction 7812378112387"}], 
         "e": 2269, 
         "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nBEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f\nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nBEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141\nEND transaction 1213\nfoo 55\nBEGIN transaction 4151\nEND transaction 7812378112387"}], 
     "e": 2269, 
     "data": "BEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nBEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f\nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nBEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141\nEND transaction 1213\nfoo 55\nBEGIN transaction 4151\nEND transaction 7812378112387"}, 
    {"s": 2270, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 2270, 
         "type": "invalid_line", 
         "e": 2280, 
         "data": "bar 12 a b"}], 
     "e": 2280, 
     "data": "bar 12 a b"}, 
    {"s": 2281, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 2281, 
         "type": "invalid_line", 
         "e": 2299, 
         "data": "END transaction 55"}], 
     "e": 2299, 
     "data": "END transaction 55"}, 
    {"s": 2300, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 2300, 
         "type": "invalid_line", 
         "e": 2306, 
         "data": "foo 32"}], 
     "e": 2306, 
     "data": "foo 32"}, 
    {"s": 2307, 
     "type": "nested_all_tx", 
     "subs": 
       [{"s": 2307, 
         "type": "invalid_line", 
         "e": 2327, 
         "data": "END transaction 5190"}], 
     "e": 2327, 
     "data": "END transaction 5190"}], 
 "e": 2327, 
 "data": "Case 1: Nesting, but no interleaving\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\nEND transaction 111781237811\n\nCase 1a: Deeply nested transactions with no interleaving or invalid entries\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f \nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nEND transaction 132145\nEND transaction 15321\nbar 90 p a\nBEGIN transaction 12521\nbar 23 g s\nEND transaction 12521\nEND transaction 1213\nfoo 55\nEND transaction 55\nEND transaction 111781237811\n\nCase 2: Transactions can also be interleaved with one another.\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 111781237811\nEND transaction 55\n\n\nCase 3: It's also possible that a server crashes before finishing a transaction.\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 55\nfoo 88\nBEGIN transaction 111781237811\nbar 33 y y\nfoo 55\nEND transaction 55\n\nCase 4: Missing \"BEGIN\" (invalid)\n\nfoo 2\nbar 44 x y\nEND transaction 7812378112387\nBEGIN transaction 111781237811\nfoo 88\nBEGIN transaction 55\nbar 33 y y\nfoo 55\nEND transaction 55\nEND transaction 111781237811\n\nCase 5: Deeply nested with invalid, valid, and incomplete transactions\n\nBEGIN transaction 7812378112387\nfoo 2\nbar 44 x y\nBEGIN transaction 55\nbar 33 y y\nBEGIN transaction 1213\nfoo 392\nbar 20 w f\nBEGIN transaction 15321\nfoo 54\nbar 12 f f\nBEGIN transaction 132145\nfoo 95\nBEGIN transaction 5531\nbar 23 g s\nEND transaction 5531\nbar 68 o s\nfoo 75\nBEGIN transaction 8141\nfoo 39\nBEGIN transaction 5190\nbar 90 p a\nEND transaction 8141\nEND transaction 1213\nfoo 55\nBEGIN transaction 4151\nEND transaction 7812378112387\nbar 12 a b\nEND transaction 55\nfoo 32\nEND transaction 5190"}
